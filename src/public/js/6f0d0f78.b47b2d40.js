(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6f0d0f78"],{"52c5":function(e,t,o){"use strict";var a=o("3f4a");t["a"]={List:function(e){return Object(a["a"])().get("branches")},Update:function(e){return Object(a["a"])().patch("branches/"+e._id,e)},Store:function(e){return Object(a["a"])().post("branches",e)},Show:function(e){return Object(a["a"])().get("branches/"+e.id)},ShowByCode:function(e){return Object(a["a"])().post("branches/bycode",e)},PickList:function(e){return Object(a["a"])().post("branches/picklist",e)},Delete:function(e){return Object(a["a"])().delete("branches",{data:e})}}},"86dd":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"form q-pa-lg"},[o("div",{staticClass:"row gutter-sm"},[o("div",{staticClass:"col-xs-12 col-md-4"},[o("q-field",{attrs:{label:"Code:",orientation:"vertical"}},[o("q-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),o("div",{staticClass:"col-xs-12 col-md-4"},[o("q-field",{attrs:{label:"Name:",orientation:"vertical"}},[o("q-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),o("div",{staticClass:"col-xs-12 col-md-4"},[o("q-field",{attrs:{label:"Description:",orientation:"vertical"}},[o("q-input",{model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),o("div",{staticClass:"col-xs-12 col-md-6"},[o("q-field",{attrs:{label:"Select School Branch:",orientation:"vertical"}},[o("q-search",{attrs:{placeholder:"Type School Branch"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.deleteSchoolBranch()}},model:{value:e.form.branch,callback:function(t){e.$set(e.form,"branch",t)},expression:"form.branch"}},[o("q-autocomplete",{attrs:{"min-characters":0},on:{selected:e.getSelectedSchoolBranch,search:e.getSchoolBranch}})],1)],1)],1),o("div",{staticClass:"col-xs-12 col-md-6"},[o("q-field",{attrs:{label:"Unit Price:",orientation:"vertical"}},[o("q-input",{attrs:{type:"number"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;e.form.unitPrice=0}},model:{value:e.form.unitPrice,callback:function(t){e.$set(e.form,"unitPrice",t)},expression:"form.unitPrice"}})],1)],1),o("div",{staticClass:"col-xs-12 col-md-6"},[o("q-field",{attrs:{label:"In-Cash / Monthly Base","label-width":"4",orientation:"vertical"}},[o("q-select",{attrs:{inline:"",color:"secondary",radio:"",options:[{label:"",value:0},{label:"In-Cash",value:1},{label:"Monthly",value:2}]},model:{value:e.form.paymentTerm,callback:function(t){e.$set(e.form,"paymentTerm",t)},expression:"form.paymentTerm"}})],1)],1),o("div",{staticClass:"col-xs-12 col col-md-6"},[o("div",{staticClass:"row gutter-sm"},[o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-field",{attrs:{label:"For Graduating:",orientation:"vertical"}},[o("q-checkbox",{model:{value:e.form.forGraduating,callback:function(t){e.$set(e.form,"forGraduating",t)},expression:"form.forGraduating"}})],1)],1),o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-field",{attrs:{label:"Is Mandatory:",orientation:"vertical"}},[o("q-checkbox",{model:{value:e.form.isMandatory,callback:function(t){e.$set(e.form,"isMandatory",t)},expression:"form.isMandatory"}})],1)],1),o("div",{staticClass:"col-xs-12 col-sm-4"},[o("q-field",{attrs:{label:"Is Co-Corricular:",orientation:"vertical"}},[o("q-checkbox",{model:{value:e.form.isCoCorricular,callback:function(t){e.$set(e.form,"isCoCorricular",t)},expression:"form.isCoCorricular"}})],1)],1)])]),o("div",{staticClass:"col-xs-12"},[o("q-btn",{on:{click:e.cancelOperation}},[e._v("Cancel")]),o("q-btn",{staticClass:"float-right",attrs:{icon:"add",color:"primary"},on:{click:e.saveItem}},[e._v("Save")])],1)])])])},r=[];a._withStripped=!0;o("7f7f"),o("7514");var n=o("2ef0"),i=o.n(n),c=o("ed08"),s=o("7bb4"),l=o("52c5"),d=o("2f62"),u={name:"FeeCreate",mounted:function(){},data:function(){return{form:{code:"",name:"",description:"",unitPrice:0,paymentTerm:"",forGraduating:!1,isMandatory:!1,isCoCorricular:!1},originalRow:{code:"",name:"",description:"",unitPrice:0,paymentTerm:"",forGraduating:!1,isMandatory:!1,isCoCorricular:!1}}},computed:i.a.merge(Object(d["b"])({}),{}),methods:{cancelOperation:function(){var e=this,t=[];for(var o in e.form)""!==e.form[o]&&t.push(o);t.length?e.$q.dialog({title:"Cancel Operation",message:"You still have pending changes. Are you sure you want to leave this page?",ok:"Agree",cancel:"Disagree"}).then(function(){e.$router.push({name:"fee.index"}),e.$q.notify("Agreed!")}).catch(function(){e.$q.notify("Disagreed...")}):e.$router.push({name:"fee.index"})},getSelectedSchoolBranch:function(e){var t=this,o=i.a.find(t.branches,["code",e.value]);o&&(t.form.branch=o.code)},deleteSchoolBranch:function(){var e=this;e.form.branch=""},mapSchoolBranch:function(e){return i.a.map(e,function(e){return{label:"".concat(e.code," - ").concat(e.name),value:e.code}})},getSchoolBranch:function(e,t){var o=this,a=[],r={terms:e};l["a"].PickList(r).then(function(e){if(200===e.status)if(e.data.error)o.$q.notify({color:"negative",message:e.data.error,position:"top"}),void 0!==t&&t(a);else{var r=JSON.parse(JSON.stringify(e.data));a=o.mapSchoolBranch(r),void 0!==t&&(o.branches=r,t(a))}},function(e){o.$q.notify({message:e.response.data.error,position:"top",type:"negative"})})},saveItem:function(){var e=this;try{var t=e.form;s["a"].Store(t).then(function(t){200===t.status&&(t.data.error?e.$q.notify({color:"negative",message:t.data.error,position:"top"}):(e.$router.push({name:"fee.edit",query:{id:t.data.id}}),e.$q.notify({color:"positive",message:"Fee Added!",position:"top"})))},function(t){e.$q.notify({color:"negative",message:t.response.data.error,position:"top"})})}catch(e){console.log(e),Object(c["b"])()}}}},f=u,m=o("2877"),p=Object(m["a"])(f,a,r,!1,null,null,null);p.options.__file="Create.vue";t["default"]=p.exports}}]);