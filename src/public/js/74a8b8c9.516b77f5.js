(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["74a8b8c9"],{"19de":function(t,e){t.exports=function(t,e,n,a){var s="undefined"!==typeof a?[a,t]:[t],r=new Blob(s,{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,e);else{var o=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",e),"undefined"===typeof i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(o)},200)}}},6305:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row gutter-sm"},[n("div",{staticClass:"col-xs-12"},[n("q-btn",{staticClass:"float-right q-ma-sm",attrs:{color:"primary",icon:"file_download"},on:{click:t.downloadReport}},[t._v("Download SOA")])],1),n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"soa-section"},[n("div",{staticClass:"soa-container"},[n("div",{staticClass:"soa-wrapper"},[n("div",{staticClass:"soa-content"},[n("section",{staticClass:"tuition"},[t.isFormEmpty?t._e():n("table",[n("thead",[n("tr",[n("td",{staticStyle:{"background-color":"#fff",border:"solid 1px"},attrs:{colspan:t.parseMonth.length+10}},[n("div",{staticClass:"soa-header"},[n("div",{staticClass:"soa-header__wrapper"},[n("div",{staticClass:"grade-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.gradeLevel,expression:"gradeLevel"}],attrs:{readonly:""},domProps:{value:t.gradeLevel},on:{input:function(e){e.target.composing||(t.gradeLevel=e.target.value)}}}),n("p",[t._v("grade")])]),n("div",{staticClass:"student-info"},[n("div",{staticClass:"topbar"},[n("div",{staticClass:"heading-serial-container"},[n("h2",{staticClass:"q-pa-sm"},[t._v("statement of account")]),n("div",{staticClass:"serial"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.serialNo,expression:"serialNo"}],attrs:{type:"text",readonly:""},domProps:{value:t.serialNo},on:{input:function(e){e.target.composing||(t.serialNo=e.target.value)}}})])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.schoolYear,expression:"schoolYear"}],staticClass:"school-year",attrs:{type:"text",readonly:""},domProps:{value:t.schoolYear},on:{input:function(e){e.target.composing||(t.schoolYear=e.target.value)}}})]),n("div",{staticClass:"left-container"},[n("div",{staticClass:"row q-ml-sm"},[n("div",{staticClass:"col-xs-10"},[n("q-field",{attrs:{label:"Student's No.:","label-width":"3"}},[n("q-input",{attrs:{readonly:""},model:{value:t.form.studentNumber,callback:function(e){t.$set(t.form,"studentNumber",e)},expression:"form.studentNumber"}})],1)],1),n("div",{staticClass:"col-xs-12"},[n("q-field",{attrs:{label:"Student's Name.:","label-width":"3"}},[n("q-input",{attrs:{readonly:""},model:{value:t.form.studentName,callback:function(e){t.$set(t.form,"studentName",e)},expression:"form.studentName"}})],1)],1)])]),n("div",{staticClass:"right-container"},[n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isNewStudent,expression:"isNewStudent"}],attrs:{type:"radio",name:"studentType",id:"newStudent",disabled:!t.isNewStudent},domProps:{value:!0,checked:t._q(t.isNewStudent,!0)},on:{change:function(e){t.isNewStudent=!0}}}),n("label",{attrs:{for:"newStudent"}},[t._v("New Student")])]),n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isNewStudent,expression:"isNewStudent"}],attrs:{type:"radio",name:"studentType",id:"oldStudent",disabled:!!t.isNewStudent},domProps:{value:!1,checked:t._q(t.isNewStudent,!1)},on:{change:function(e){t.isNewStudent=!1}}}),n("label",{attrs:{for:"oldStudent"}},[t._v("Old Student")])])])]),t._m(0)])])])]),n("tr",[n("td",{staticStyle:{"background-color":"#fff",border:"solid 1px"},attrs:{colspan:t.parseMonth.length+10}},[n("h3",[t._v("Ⅰ.Tuition & Miscellaneous (monthly fee)")])])]),n("tr",[n("th",[t._v("date paid")]),n("th",[t._v("processed by:")]),n("th",[t._v("ar/or")]),n("th",[t._v("books (reservations)")]),n("th",[t._v("reg. fee")]),n("th",[t._v("others")]),n("th",{staticStyle:{"font-size":"10px"}},[t._v("Annual TF & Misc.")]),n("th",{staticStyle:{"font-size":"10px"}},[t._v("Monthly TF & Misc.")]),t._l(t.parseMonth,function(e,a){return n("th",{key:a},[t._v("\n                        "+t._s(e)+"\n                      ")])}),n("th",[t._v("due payment")])],2)]),n("tbody",[t.reservationFee?n("tr",[n("td",[t.reservationFee.isPaid?[t._v(t._s(t.formatDate(t.reservationFee.datePaid)))]:void 0],2),n("td",[t.reservationFee.isPaid?[t._v(t._s(t.reservationFee.payments[0].userId.lastName)+" "+t._s(t.reservationFee.payments[0].userId.givenName))]:void 0],2),t.reservationFee.isPaid?n("td",[t._v(t._s(t.reservationFee.receiptNo))]):t._e(),n("td",[t._v(t._s(t.formatNumber(t.reservationFee.amount)))]),n("td"),n("td"),n("td"),n("td"),t._l(t.parseMonth,function(t,e){return n("td",{key:e})}),n("td",[t._v(t._s(t.formatNumber(t.reservationFee.payments[0].amountDue)))])],2):t._e(),t.registrationFee?n("tr",[n("td",[t.registrationFee.isPaid?[t._v(t._s(t.formatDate(t.registrationFee.datePaid)))]:void 0],2),n("td",[t.registrationFee.isPaid?[t._v(t._s(t.registrationFee.payments[0].userId.lastName)+" "+t._s(t.registrationFee.payments[0].userId.givenName))]:void 0],2),t.registrationFee.isPaid?n("td",[t._v(t._s(t.registrationFee.receiptNo))]):t._e(),n("td"),n("td",[t._v(t._s(t.formatNumber(t.registrationFee.amount)))]),n("td"),n("td"),n("td"),t._l(t.parseMonth,function(t,e){return n("td",{key:e})}),n("td",[t._v(t._s(t.formatNumber(t.registrationFee.payments[0].amountDue)))])],2):t._e(),null!==t.tuitionFee?[t._l(t.tuitionFee.payments,function(e,a){return n("tr",{key:a},[null!==e.receipt?[n("td",[t._v(t._s(t.formatDate(e.datePaid)))]),n("td",[t._v(t._s(e.userId.lastName)+" "+t._s(e.userId.givenName))]),n("td",[t._v(t._s(e.receipt.orNumber))]),n("td"),n("td"),n("td"),0===a?[n("td",[t._v(t._s(t.formatNumber(t.tuitionFee.amount+t.miscellaneousFee.amount)))])]:[n("td")],0===a?[n("td",[t._v(t._s(t.formatNumber((t.tuitionFee.amount+t.miscellaneousFee.amount)/t.parseMonth.length)))])]:[n("td")],t._l(t.parseMonth,function(s,r){return n("td",{key:r},[r===a?[e.amountToPayPerMonth&&t.miscellaneousFee.payments[a].amountToPayPerMonth?[t._v("\n                                  "+t._s(t.formatNumber(e.amountToPayPerMonth+t.miscellaneousFee.payments[a].amountToPayPerMonth))+"\n                                ")]:e.amountToPayPerMonth&&!t.miscellaneousFee.payments[a].amountToPayPerMonth?[t._v("\n                                  "+t._s(t.formatNumber(e.amountToPayPerMonth))+"\n                                ")]:t._e()]:void 0],2)}),n("td",[0!==e.amountDue?[e.amountDue&&t.miscellaneousFee.payments[a].amountDue?[t._v("\n                                  "+t._s(t.formatNumber(e.amountDue+t.miscellaneousFee.payments[a].amountDue))+"\n                                ")]:e.amountDue&&!t.miscellaneousFee.payments[a].amountDue?[t._v("\n                                  "+t._s(t.formatNumber(e.amountDue))+"\n                                ")]:t._e()]:void 0],2)]:t._e()],2)})]:t._e(),n("tr",[n("td",{attrs:{colspan:t.parseMonth.length+10}},[n("h3",[t._v("Ⅱ.Co-Curricular")])])])],2),n("thead",[n("th",{staticClass:"bg-warning"},[t._v("DATE PAID")]),n("th",{staticClass:"bg-warning"},[t._v("PROCESSED BY:")]),n("th",{staticClass:"bg-warning"},[t._v("A.R./O.R.")]),n("th",{staticClass:"bg-warning",attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[t._v("ANTICIPATED EVENTS/ACCESSORIES")]),n("th",{staticClass:"bg-warning"},[t._v("Amount")]),n("th",{staticClass:"bg-warning"},[t._v("Status")]),n("th",[t._v("DATE PAID")]),n("th",[t._v("PROCESSED BY:")]),n("th",[t._v("A.R./O.R.")]),n("th",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[t._v("SELECTIVE TO GRADE LEVEL")]),n("th",[t._v("Amount")]),n("th",[t._v("Status")]),n("th")]),n("tbody",[n("tr",[n("td",{staticClass:"bg-warning"},[t._v(t._s(t.eventFee.payments[0]&&t.eventFee.payments[0].datePaid?t.formatDate(t.eventFee.payments[0].datePaid):""))]),n("td",{staticClass:"bg-warning"},[t._v(t._s(t.eventFee.payments[0]&&t.eventFee.payments[0].userId?t.eventFee.payments[0].userId.lastName+" "+t.eventFee.payments[0].userId.givenName:""))]),n("td",{staticClass:"bg-warning"},[t._v(t._s(t.eventFee.payments[0]&&t.eventFee.payments[0].receipt?""+t.eventFee.payments[0].receipt.orNumber:""))]),n("td",{staticClass:"bg-warning",attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Event Fee")]),n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          (Buwan ng Wika, Literary Meet/Intramurals, Christmast Party, Foundation Day, Support for Little Miss Participation, Class Picture, Pajama Party)\n                        ")])]),n("td",{staticClass:"bg-warning"},[t._v(t._s(t.eventFee.payments[0]&&t.eventFee.payments[0].amountDue?t.formatNumber(t.eventFee.payments[0].amountDue):""))]),n("td",{staticClass:"bg-warning"},[t._v(t._s(t.eventFee.payments[0]&&t.eventFee.payments[0].isPaid?"Paid":""))]),n("td"),n("td"),n("td"),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Graduating")]),n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("(K2, G6, G12)")]),n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Parangal Fee")])]),n("td"),n("td"),n("td")]),n("tr",[n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning",attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Grades 4-12")]),n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          (Required Field Trip for Pupils/Students)\n                        ")])]),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td"),n("td"),n("td"),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Learners with Distinction")]),n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("(non-graduating)")]),n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Parangal Fee")])]),n("td"),n("td"),n("td")]),n("tr",[n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning",attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Grades 7-12")]),n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          (Required Royal Ball for Students)\n                        ")])]),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td"),n("td"),n("td"),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("Graduating")]),n("p",{staticClass:"q-ma-none text-center"},[t._v("Annual Yearbook")])]),n("td"),n("td"),n("td")]),n("tr",[n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning",attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("All Students")]),n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          (3 required notebooks)\n                        ")])]),n("td",{staticClass:"bg-warning"}),n("td",{staticClass:"bg-warning"}),n("td"),n("td"),n("td"),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("K2 and G6")]),n("p",{staticClass:"q-ma-none text-center"},[t._v("(Framed Grad Picture)")])]),n("td"),n("td"),n("td")]),n("tr",[n("td",{}),n("td",{}),n("td",{}),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("New Student")]),n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          (Coat, Textile,\n                        ")])]),n("td",{}),n("td",{}),n("td",{attrs:{rowspan:"3"}}),n("td",{attrs:{rowspan:"3"}}),n("td",{attrs:{rowspan:"3"}}),n("td",{attrs:{rowspan:"3",colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"q-ma-none text-center text-bold"},[t._v("G12")]),n("p",{staticClass:"q-ma-none text-center"},[t._v("(Framed Diploma + Theca + Framed Grad Picture)")])]),n("td",{attrs:{rowspan:"3"}}),n("td",{attrs:{rowspan:"3"}}),n("td",{attrs:{rowspan:"3"}})]),n("tr",[n("td",{}),n("td",{}),n("td",{}),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          PE Uniform, KV Shirt,\n                        ")])]),n("td",{}),n("td",{})]),n("tr",[n("td",{}),n("td",{}),n("td",{}),n("td",{attrs:{colspan:((t.parseMonth.length+12-15)/2).toFixed(0)}},[n("p",{staticClass:"text-center q-ma-none"},[t._v("\n                          Pin, Nameplate)\n                        ")])]),n("td",{}),n("td",{})])])])])]),t._m(1)])])])]),n("div",{staticClass:"col-xs-12"},[n("q-btn",{on:{click:function(e){t.$router.push({name:"enrollment.edit",query:{id:t.$route.query.id}})}}},[t._v("return back")])],1)])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"student-copy-label"},[n("span",[t._v("Cashier's copy")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-content"},[n("p",[t._v("The "),n("span",[t._v("STAMP")]),t._v(" of the School Administration signifies the CLEARANCE from "),n("span",[t._v("ALL MONETARY OBLIGATIONS")])])])}];a._withStripped=!0;n("96cf");var r=n("c973"),o=n.n(r),i=(n("7f7f"),n("ac6a"),n("7514"),n("ed08")),d=n("c242"),l=n("659a"),c=n("2ef0"),u=n.n(c),m=n("c1df"),p=n.n(m),f=n("19de"),v=n.n(f),h={name:"EnrollmentStatementOfAccount",computed:{gradeLevel:function(){var t=this,e=""+t.form.levelCode,n="".concat(e[e.length-2]).concat(e[e.length-1]);return n},isNewStudent:function(){var t=this;return t.noOfEnrollments<=1},serialNo:function(){var t=this;return t.isFormEmpty?"":"Serial-".concat(t.form.number.substr(t.form.number.length-5))},isFormEmpty:function(){var t=this;return u.a.isEmpty(t.form)},schoolYear:function(){return"SY: ".concat(this.form.schoolYearCode)},reservationFee:function(){var t=this;return t.theFee("Books")},registrationFee:function(){var t=this;return t.theFee("Registration Fees")},miscellaneousFee:function(){var t=this;return t.theFee("Miscellaneous Fees")},tuitionFee:function(){var t=this,e=u.a.find(t.form.fees,["name","Tuition Fees"]);return e||null},parseMonth:function(){var t=this,e=[];return t.monthValues.forEach(function(t){e.push(i["a"][t])}),e},coCorriculars:function(){for(var t=this,e=[],n=u.a.filter(t.form.fees,["isAnticipatedEventsAccessories",!0]),a=u.a.filter(t.form.fees,["forGraduating",!0]),s=n.length>a.length?n.length:a.length,r=0;r<s;r++)e.push({eventFees:n[r]?n[r]:null,paidGraduationFees:a[r]?a[r]:null});return e},eventFee:function(){var t=this,e=t.form.fees.find(function(t){return"Event Fee"===t.name});return e||{}},parangalFee:function(){var t=this,e=t.form.fees.find(function(t){return"Parangal Fee"===t.name});return e||{}},fieldTrip:function(){var t=this,e=t.form.fees.find(function(t){return"Field Trip"===t.name});return e||{}},royalBall:function(){var t=this,e=t.form.fees.find(function(t){return"Royal Ball"===t.name});return e||{}},yearBook:function(){var t=this,e=t.form.fees.find(function(t){return"Annual Yearbook Graduating"===t.name});return e||{}},framedGradPicture:function(){var t=this,e=t.form.fees.find(function(t){return"Framed Grad Piture"===t.name});return e||{}},diploma:function(){var t=this,e=t.form.fees.find(function(t){return"Framed Diploma, Theca, Framed Grad Picture"===t.name});return e||{}},supplies:function(){var t=this,e=t.form.fees.find(function(t){return"Supplies - All Students"===t.name});return e||{}},pins:function(){var t=this,e=t.form.fees.filter(function(t){return"Pin"===t.name});return e||{}},nameplates:function(){var t=this,e=t.form.fees.filter(function(t){return"Nameplate"===t.name});return e||{}},uniforms:function(){var t=this,e=t.form.fees.filter(function(t){return"Uniform"===t.name});return e||{}},vans:function(){var t=this,e=t.form.fees.filter(function(t){return"Van"===t.name});return e||{}}},mounted:function(){var t=this;t.$route.query.id?t.getRow():(t.$q.notify({message:"Whoops! Please select Enrollment Document",position:"top",color:"negative"}),t.$router.push({name:"enrollment.index"}))},data:function(){return{noOfEnrollments:0,form:{},originalRow:{},schoolYearInfo:{},monthValues:[]}},methods:{downloadReport:function(){var t=this;try{var e=t.$route.query.id;if(null!==e)var n={_id:e,monthValues:t.monthValues,serialNo:t.serialNo,schoolYear:t.schoolYear};d["a"].DownloadSOAReport(n).then(function(){var e=o()(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(200!==n.status){e.next=7;break}if(n.data.error){e.next=6;break}return e.next=4,v()(n.data,"".concat(t.form.studentNumber,"-").concat(t.form.studentName,"-").concat(p()().format("YYYYMMDD"),".xlsx"));case 4:e.next=7;break;case 6:t.$q.notify({color:"negative",message:n.data.error,position:"top"});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}catch(e){t.$q.notify({message:e.response.data.error,position:"top",type:"negative"})}},theFee:function(t){var e=this;if(!u.a.isEmpty(e.form)){var n=u.a.find(e.form.fees,["name",t]);if(n&&0!==n.payments.length){var a=JSON.parse(JSON.stringify(n)),s=JSON.parse(JSON.stringify(a.payments[0]));return a.datePaid=s.datePaid?p()(s.datePaid).format("MM/DD/YYYY"):"",a.receiptNo=null!==s.receipt?s.receipt.orNumber:"None",a}}return null},formatDate:function(t){return Object(i["d"])(t)},formatNumber:function(t){return Object(i["e"])(t)},getRow:function(){var t=this;try{var e=t.$route.query.id;if(null!==e){var n={_id:e};d["a"].Show(n).then(function(e){200===e.status&&(e.data.error?t.$q.notify({color:"negative",message:e.data.error,position:"top"}):(t.form=e.data,t.originalRow=JSON.parse(JSON.stringify(e.data)),t.getSchoolYear(t.form.schoolYearCode)))},function(t){throw t})}}catch(t){Object(i["b"])(t)}},getSchoolYear:function(t){var e=this;try{var n={code:t};l["a"].ShowByCode(n).then(function(t){200===t.status&&(t.data.error?e.$q.notify({color:"negative",message:t.data.error,position:"top"}):(e.schoolYearInfo=t.data,e.getMonthValues(),e.countNoOfEnrollments()))},function(t){throw t})}catch(t){Object(i["b"])(t)}},countNoOfEnrollments:function(){var t=this;try{var e={studentNumber:t.form.studentNumber};d["a"].CountEnrollmentOfStudent(e).then(function(e){200===e.status&&(e.data.error?t.$q.notify({color:"negative",message:e.data.error,position:"top"}):t.noOfEnrollments=e.data.total)},function(e){t.$q.notify({position:"top",message:e.response.data.error,type:"negative",color:"negative"})})}catch(t){Object(i["b"])(t)}},getMonthValues:function(){var t=this,e=p()(t.schoolYearInfo.schoolStartDate),n=p()(t.schoolYearInfo.schoolEndDate).add(1,"month"),a=[];while(e.isBefore(n))a.push(parseInt(e.format("MM"))),e=e.add(1,"month");t.monthValues=a}}},g=h,_=(n("bdeb"),n("2877")),b=Object(_["a"])(g,a,s,!1,null,null,null);b.options.__file="StatementOfAccount.vue";e["default"]=b.exports},bdeb:function(t,e,n){"use strict";var a=n("ef91"),s=n.n(a);s.a},ef91:function(t,e,n){}}]);