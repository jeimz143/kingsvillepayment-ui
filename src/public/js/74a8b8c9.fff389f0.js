(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["74a8b8c9"],{"19de":function(e,t){e.exports=function(e,t,a,n){var o="undefined"!==typeof n?[n,e]:[e],s=new Blob(o,{type:a||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(s,t);else{var r=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),i=document.createElement("a");i.style.display="none",i.href=r,i.setAttribute("download",t),"undefined"===typeof i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)},200)}}},6305:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row gutter-sm"},[a("div",{staticClass:"col-xs-12"},[a("q-btn",{staticClass:"float-right q-ma-sm",attrs:{color:"primary",icon:"file_download"},on:{click:e.downloadReport}},[e._v("Download SOA")])],1),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"soa-section"},[a("div",{staticClass:"soa-container"},[a("div",{staticClass:"soa-wrapper"},[a("div",{staticClass:"soa-content"},[a("section",{staticClass:"tuition"},[e.isFormEmpty?e._e():a("table",[a("thead",[a("tr",[a("td",{staticStyle:{"background-color":"#fff",border:"solid 1px"},attrs:{colspan:e.parseMonth.length+10}},[a("div",{staticClass:"soa-header"},[a("div",{staticClass:"soa-header__wrapper"},[a("div",{staticClass:"grade-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.gradeLevel,expression:"gradeLevel"}],attrs:{readonly:""},domProps:{value:e.gradeLevel},on:{input:function(t){t.target.composing||(e.gradeLevel=t.target.value)}}}),a("p",[e._v("grade")])]),a("div",{staticClass:"student-info"},[a("div",{staticClass:"topbar"},[a("div",{staticClass:"heading-serial-container"},[a("h2",{staticClass:"q-pa-sm"},[e._v("statement of account")]),a("div",{staticClass:"serial"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.serialNo,expression:"serialNo"}],attrs:{type:"text",readonly:""},domProps:{value:e.serialNo},on:{input:function(t){t.target.composing||(e.serialNo=t.target.value)}}})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.schoolYear,expression:"schoolYear"}],staticClass:"school-year",attrs:{type:"text",readonly:""},domProps:{value:e.schoolYear},on:{input:function(t){t.target.composing||(e.schoolYear=t.target.value)}}})]),a("div",{staticClass:"left-container"},[a("div",{staticClass:"row q-ml-sm"},[a("div",{staticClass:"col-xs-10"},[a("q-field",{attrs:{label:"Student's No.:","label-width":"3"}},[a("q-input",{attrs:{readonly:""},model:{value:e.form.studentNumber,callback:function(t){e.$set(e.form,"studentNumber",t)},expression:"form.studentNumber"}})],1)],1),a("div",{staticClass:"col-xs-12"},[a("q-field",{attrs:{label:"Student's Name.:","label-width":"3"}},[a("q-input",{attrs:{readonly:""},model:{value:e.form.studentName,callback:function(t){e.$set(e.form,"studentName",t)},expression:"form.studentName"}})],1)],1)])]),a("div",{staticClass:"right-container"},[a("div",{staticClass:"input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isNewStudent,expression:"isNewStudent"}],attrs:{type:"radio",name:"studentType",id:"newStudent",disabled:!e.isNewStudent},domProps:{value:!0,checked:e._q(e.isNewStudent,!0)},on:{change:function(t){e.isNewStudent=!0}}}),a("label",{attrs:{for:"newStudent"}},[e._v("New Student")])]),a("div",{staticClass:"input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isNewStudent,expression:"isNewStudent"}],attrs:{type:"radio",name:"studentType",id:"oldStudent",disabled:!!e.isNewStudent},domProps:{value:!1,checked:e._q(e.isNewStudent,!1)},on:{change:function(t){e.isNewStudent=!1}}}),a("label",{attrs:{for:"oldStudent"}},[e._v("Old Student")])])])]),e._m(0)])])])]),a("tr",[a("td",{staticStyle:{"background-color":"#fff",border:"solid 1px"},attrs:{colspan:e.parseMonth.length+10}},[a("h3",[e._v("Ⅰ.Tuition & Miscellaneous (monthly fee)")])])]),a("tr",[a("th",[e._v("date paid")]),a("th",[e._v("processed by:")]),a("th",[e._v("ar/or")]),a("th",[e._v("books (reservations)")]),a("th",[e._v("reg. fee")]),a("th",[e._v("Misc. fee")]),a("th",[e._v("others")]),a("th",[e._v("Annual TF")]),a("th",[e._v("Monthly TF")]),e._l(e.parseMonth,function(t,n){return a("th",{key:n},[e._v("\n                        "+e._s(t)+"\n                      ")])}),a("th",[e._v("due payment")])],2)]),a("tbody",[e.reservationFee?a("tr",[a("td",[e.reservationFee?[e._v(e._s(e.formatDate(e.reservationFee.datePaid)))]:void 0],2),a("td",[e.reservationFee?[e._v(e._s(e.reservationFee.payments[0].userId.lastName)+" "+e._s(e.reservationFee.payments[0].userId.givenName))]:void 0],2),e.reservationFee?a("td",[e._v(e._s(e.reservationFee.receiptNo))]):e._e(),a("td",[e._v(e._s(e.formatNumber(e.reservationFee.amount)))]),a("td"),a("td"),a("td"),a("td"),a("td"),e._l(e.parseMonth,function(e,t){return a("td",{key:t})}),a("td")],2):e._e(),e.registrationFee?a("tr",[a("td",[e.registrationFee?[e._v(e._s(e.formatDate(e.registrationFee.datePaid)))]:void 0],2),a("td",[e.registrationFee?[e._v(e._s(e.registrationFee.payments[0].userId.lastName)+" "+e._s(e.registrationFee.payments[0].userId.givenName))]:void 0],2),e.registrationFee?a("td",[e._v(e._s(e.registrationFee.receiptNo))]):e._e(),a("td"),a("td",[e._v(e._s(e.formatNumber(e.registrationFee.amount)))]),a("td"),a("td"),a("td"),a("td"),e._l(e.parseMonth,function(e,t){return a("td",{key:t})}),a("td")],2):e._e(),e.miscellaneousFee?a("tr",[a("td",[e.miscellaneousFee?[e._v(e._s(e.formatDate(e.miscellaneousFee.datePaid)))]:void 0],2),a("td",[e.miscellaneousFee&&0!==e.miscellaneousFee.payments.length?[e._v(e._s(e.miscellaneousFee.payments[0].userId.lastName)+" "+e._s(e.miscellaneousFee.payments[0].userId.givenName))]:void 0],2),e.miscellaneousFee?a("td",[e._v(e._s(e.miscellaneousFee.receiptNo))]):e._e(),a("td"),a("td"),a("td",[e._v(e._s(e.formatNumber(e.miscellaneousFee.amount)))]),a("td"),a("td"),a("td"),e._l(e.parseMonth,function(e,t){return a("td",{key:t})}),a("td")],2):e._e(),null!==e.tuitionFee?[e._l(e.tuitionFee.payments,function(t,n){return[a("tr",{key:n},[null!==t.receipt?[a("td",[e._v(e._s(e.formatDate(t.datePaid)))]),a("td",[e._v(e._s(t.userId.lastName)+" "+e._s(t.userId.givenName))]),a("td",[e._v(e._s(t.receipt.orNumber))]),a("td"),a("td"),a("td"),a("td"),1===e.tuitionFee.paymentTerm?[a("td",[e._v(e._s(e.formatNumber(t.amountToPayPerMonth)))])]:[a("td")],a("td"),e._l(e.parseMonth,function(o,s){return a("td",{key:s},[s===n?[e._v("\n                                "+e._s(e.formatNumber(t.amountToPayPerMonth))+"\n                              ")]:void 0],2)}),a("td",[0!==t.amountDue?[e._v("\n                                "+e._s(e.formatNumber(t.amountDue))+"\n                              ")]:void 0],2)]:e._e()],2)]})]:e._e(),a("tr",[a("td",{attrs:{colspan:e.parseMonth.length+10}},[a("h3",[e._v("Ⅱ.Co-Curricular")])])])],2),a("thead",[a("th",[e._v("DATE PAID")]),a("th",[e._v("PROCESSED BY:")]),a("th",[e._v("A.R./O.R.")]),a("th",[e._v("ANTICIPATED EVENTS/ACCESSORIES")]),a("th",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}},[e._v("Description")]),a("th",[e._v("Amount")]),a("th",[e._v("Status")]),a("th",[e._v("DATE PAID")]),a("th",[e._v("PROCESSED BY:")]),a("th",[e._v("A.R./O.R.")]),a("th",[e._v("SELECTIVE TO GRADE LEVEL")]),a("th",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}},[e._v("Description")]),a("th",[e._v("Amount")]),a("th",[e._v("Status")]),a("th")]),a("tbody",e._l(e.coCorriculars,function(t,n){return a("tr",{key:n},[null!==t["eventFees"]&&0!==t["eventFees"].payments.length?[a("td",[0!==t["eventFees"].payments.length&&t["eventFees"].payments[0].datePaid?[e._v("\n                            "+e._s(e.formatDate(t["eventFees"].payments[0].datePaid))+"\n                          ")]:void 0],2),a("td",[e._v(e._s(t["eventFees"].payments[0].userId.lastName)+" "+e._s(t["eventFees"].payments[0].userId.givenName))]),a("td",[e._v(e._s(t["eventFees"].payments[0].receipt?t["eventFees"].payments[0].receipt.orNumber:"None"))]),a("td",[e._v(e._s(t["eventFees"].name))]),a("td",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}},[e._v(e._s(t["eventFees"].description))]),a("td",[e._v(e._s(e.formatNumber(t["eventFees"].amount)))]),a("td",[e._v(e._s(t["eventFees"].isPaid?"Paid":"Not Paid"))])]:[a("td"),a("td"),a("td"),a("td"),a("td",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}}),a("td"),a("td")],null!==t["paidGraduationFees"]&&0!==t["paidGraduationFees"].payments.length?[a("td",[0!==t["paidGraduationFees"].payments.length&&t["paidGraduationFees"].payments[0].datePaid?[e._v("\n                            "+e._s(e.formatDate(t["paidGraduationFees"].payments[0].datePaid))+"\n                          ")]:void 0],2),a("td",[e._v(e._s(t["paidGraduationFees"].payments[0].userId.lastName)+" "+e._s(t["paidGraduationFees"].payments[0].userId.givenName))]),a("td",[e._v(e._s(t["paidGraduationFees"].payments[0].receipt.orNumber))]),a("td",[e._v(e._s(t["paidGraduationFees"].name))]),a("td",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}},[e._v(e._s(t["paidGraduationFees"].description))]),a("td",[e._v(e._s(e.formatNumber(t["paidGraduationFees"].amount)))]),a("td",[e._v(e._s(t["paidGraduationFees"].isPaid?"Paid":"Not Paid"))]),a("td")]:[a("td"),a("td"),a("td"),a("td"),a("td",{attrs:{colspan:((e.parseMonth.length+11-15)/2).toFixed(0)}}),a("td"),a("td"),a("td")]],2)}))])])]),e._m(1)])])])]),a("div",{staticClass:"col-xs-12"},[a("q-btn",{on:{click:function(t){e.$router.push({name:"enrollment.edit",query:{id:e.$route.query.id}})}}},[e._v("return back")])],1)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"student-copy-label"},[a("span",[e._v("Cashier's copy")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"side-content"},[a("p",[e._v("The "),a("span",[e._v("STAMP")]),e._v(" of the School Administration signifies the CLEARANCE from "),a("span",[e._v("ALL MONETARY OBLIGATIONS")])])])}];n._withStripped=!0;a("96cf");var s=a("c973"),r=a.n(s),i=(a("ac6a"),a("7514"),a("ed08")),d=a("c242"),l=a("659a"),u=a("2ef0"),c=a.n(u),m=a("c1df"),v=a.n(m),p=a("19de"),f=a.n(p),h={name:"EnrollmentStatementOfAccount",computed:{gradeLevel:function(){var e=this,t=""+e.form.levelCode,a="".concat(t[t.length-2]).concat(t[t.length-1]);return a},isNewStudent:function(){var e=this;return e.noOfEnrollments<=1},serialNo:function(){var e=this;return e.isFormEmpty?"":"Serial-".concat(e.form.number.substr(e.form.number.length-5))},isFormEmpty:function(){var e=this;return c.a.isEmpty(e.form)},schoolYear:function(){return"SY: ".concat(this.form.schoolYearCode)},reservationFee:function(){var e=this;return e.theFee("Books")},registrationFee:function(){var e=this;return e.theFee("Registration Fees")},miscellaneousFee:function(){var e=this;return e.theFee("Miscellaneous Fees")},tuitionFee:function(){var e=this,t=c.a.find(e.form.fees,["name","Tuition Fees"]);return t||null},parseMonth:function(){var e=this,t=[];return e.monthValues.forEach(function(e){t.push(i["a"][e])}),t},coCorriculars:function(){for(var e=this,t=[],a=c.a.filter(e.form.fees,["isAnticipatedEventsAccessories",!0]),n=c.a.filter(e.form.fees,["forGraduating",!0]),o=a.length>n.length?a.length:n.length,s=0;s<o;s++)t.push({eventFees:a[s]?a[s]:null,paidGraduationFees:n[s]?n[s]:null});return t}},mounted:function(){var e=this;e.$route.query.id?e.getRow():(e.$q.notify({message:"Whoops! Please select Enrollment Document",position:"top",color:"negative"}),e.$router.push({name:"enrollment.index"}))},data:function(){return{noOfEnrollments:0,form:{},originalRow:{},schoolYearInfo:{},monthValues:[]}},methods:{downloadReport:function(){var e=this;try{var t=e.$route.query.id;if(null!==t)var a={_id:t,monthValues:e.monthValues,serialNo:e.serialNo,schoolYear:e.schoolYear};d["a"].DownloadSOAReport(a).then(function(){var t=r()(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=7;break}if(a.data.error){t.next=6;break}return t.next=4,f()(a.data,"".concat(e.form.studentNumber,"-").concat(e.form.studentName,"-").concat(v()().format("YYYYMMDD"),".xlsx"));case 4:t.next=7;break;case 6:e.$q.notify({color:"negative",message:a.data.error,position:"top"});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}catch(t){e.$q.notify({message:t.response.data.error,position:"top",type:"negative"})}},theFee:function(e){var t=this;if(!c.a.isEmpty(t.form)){var a=c.a.find(t.form.fees,["name",e]);if(a&&0!==a.payments.length){var n=JSON.parse(JSON.stringify(a)),o=JSON.parse(JSON.stringify(n.payments[0]));return n.datePaid=o.datePaid?v()(o.datePaid).format("MM/DD/YYYY"):"",n.receiptNo=null!==o.receipt?o.receipt.orNumber:"None",n}}return null},formatDate:function(e){return Object(i["d"])(e)},formatNumber:function(e){return Object(i["e"])(e)},getRow:function(){var e=this;try{var t=e.$route.query.id;if(null!==t){var a={_id:t};d["a"].Show(a).then(function(t){200===t.status&&(t.data.error?e.$q.notify({color:"negative",message:t.data.error,position:"top"}):(e.form=t.data,e.originalRow=JSON.parse(JSON.stringify(t.data)),e.getSchoolYear(e.form.schoolYearCode)))},function(e){throw e})}}catch(e){Object(i["b"])(e)}},getSchoolYear:function(e){var t=this;try{var a={code:e};l["a"].ShowByCode(a).then(function(e){200===e.status&&(e.data.error?t.$q.notify({color:"negative",message:e.data.error,position:"top"}):(t.schoolYearInfo=e.data,t.getMonthValues(),t.countNoOfEnrollments()))},function(e){throw e})}catch(e){Object(i["b"])(e)}},countNoOfEnrollments:function(){var e=this;try{var t={studentNumber:e.form.studentNumber};d["a"].CountEnrollmentOfStudent(t).then(function(t){200===t.status&&(t.data.error?e.$q.notify({color:"negative",message:t.data.error,position:"top"}):e.noOfEnrollments=t.data.total)},function(t){e.$q.notify({position:"top",message:t.response.data.error,type:"negative",color:"negative"})})}catch(e){Object(i["b"])(e)}},getMonthValues:function(){var e=this,t=v()(e.schoolYearInfo.schoolStartDate),a=v()(e.schoolYearInfo.schoolEndDate),n=[];while(t.isBefore(a))n.push(parseInt(t.format("MM"))),t=t.add(1,"month");e.monthValues=n}}},_=h,g=(a("bdeb"),a("2877")),y=Object(g["a"])(_,n,o,!1,null,null,null);y.options.__file="StatementOfAccount.vue";t["default"]=y.exports},bdeb:function(e,t,a){"use strict";var n=a("ef91"),o=a.n(n);o.a},ef91:function(e,t,a){}}]);